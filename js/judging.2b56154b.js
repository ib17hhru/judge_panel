(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["judging"],{"0932":function(t,n,s){"use strict";s.r(n);var a=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"judging container is-fullwidth"},[t._m(0),t.loaded?s("div",[t.hasTrack?s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-8 left-column"},[t.currentTrack?s("single-audio",{staticClass:"small-audio",attrs:{src:t.currentTrack.path}}):t._e(),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"textarea",attrs:{name:"comment",id:"",cols:"30",rows:"10"},domProps:{value:t.comment},on:{input:function(n){n.target.composing||(t.comment=n.target.value)}}})],1),s("div",{staticClass:"column"},[s("div",{staticClass:"score is-size-1"},[s("span",{class:t.getStarClass(1),on:{click:function(n){return n.stopPropagation(),t.onStarClick(1)}}},[s("span",{class:t.getStarClass(2),on:{click:function(n){return n.stopPropagation(),t.onStarClick(2)}}},[s("span",{class:t.getStarClass(3),on:{click:function(n){return n.stopPropagation(),t.onStarClick(3)}}},[s("span",{class:t.getStarClass(4),on:{click:function(n){return n.stopPropagation(),t.onStarClick(4)}}},[s("span",{class:t.getStarClass(5),on:{click:function(n){return n.stopPropagation(),t.onStarClick(5)}}})])])])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-link",attrs:{disabled:t.submitting},on:{click:t.onSubmit}},[t._v("Оценить")])]),s("div",{staticClass:"column"},[s("button",{staticClass:"button is-light",attrs:{disabled:t.submitting},on:{click:t.onSkip}},[t._v("Пропустить")])])]),s("div",{staticClass:"total-ratings"},[t._v("\n\t\t\t\t\tВсего оценено: "),s("span",{staticClass:"total-rated"},[t._v(t._s(t.ratedCount))]),t._v(" из "+t._s(t.totalCount)+" треков.\n\t\t\t\t")])])]):s("div",{staticClass:"columns"},[s("div",{staticClass:"columns is-centered"},[t._v("\n\t\t\t\tБольше нет доступных для судейства треков\n\t\t\t")])])]):s("div",[t._v("Загружаем панель судьи...")])])},e=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"hero"},[s("div",{staticClass:"hero-body"},[s("h1",{staticClass:"title"},[t._v("Оценка треков")])])])}],i=(s("96cf"),s("3b8d")),r=s("2b0e"),c=s("6c4a"),o=s("3a0b"),u=r["a"].extend({data:function(){return{loaded:!1,score:0,comment:"",submitting:!1}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].dispatch("JUDGE_INIT");case 2:this.loaded=!0;case 3:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),computed:{hasTrack:function(){var t=o["a"].state.judging.currentTrackId;return!isNaN(t)},currentTrack:function(){var t=o["a"].state.judging.currentTrackId;return isNaN(t)?null:o["a"].state.trackObj[t]},ratedCount:function(){return o["a"].state.judging.ratings.length},totalCount:function(){return o["a"].state.tracks.length}},methods:{resetForm:function(){this.score=0,this.comment=""},onSkip:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitting=!0,t.next=3,o["a"].dispatch("JUDGE_SKIP_TRACK");case 3:this.resetForm(),this.submitting=!1;case 5:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),onSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitting=!0,t.next=3,o["a"].dispatch("JUDGE_RATE_CURRENT_TRACK",{score:this.score,comment:this.comment});case 3:this.resetForm(),this.submitting=!1;case 5:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),onStarClick:function(t){this.score=t},getStarClass:function(t){return{star:!0,selected:t<=this.score}}},components:{SingleAudio:c["a"]}}),l=u,d=(s("40ca"),s("2877")),m=Object(d["a"])(l,a,e,!1,null,"3fda0b62",null);n["default"]=m.exports},"40ca":function(t,n,s){"use strict";var a=s("469d"),e=s.n(a);e.a},"469d":function(t,n,s){}}]);
//# sourceMappingURL=judging.2b56154b.js.map